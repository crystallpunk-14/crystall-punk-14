- type: entity
  name: astral haze
  id: CP14AstralHaze
  categories: [ ForkFiltered ]
  parent:
  - BaseKudzu
  - BaseShadow
  components:
    - type: Physics
      canCollide: false
    - type: Occluder
    - type: Sprite
      drawdepth: Effects
      sprite: Effects/spookysmoke.rsi
      layers:
      - state: spookysmoke
        color: "#793a80dd"
        map: [base]
    - type: Kudzu
      growthTickChance: 0.2
      spreadChance: 0.99
    - type: RandomSpawner
      deleteSpawnerAfterSpawn: false
      rareChance: 0.05
      offset: 0.2
      chance: 0.45
      prototypes:
      - CP14AstralCorrosion
      rarePrototypes:
      - CP14AstralHazeKudzuLootSpawner
    - type: Tag
      tags:
        - HideContextMenu
        - SpookyFog
    - type: OptionsVisualizer
      visuals:
        base:
        - options: Default
          data: { state: spookysmoke }
        - options: ReducedMotion
          data: { state: spookysmoke_static }

- type: entity
  id: CP14AstralHazeKudzuLootSpawner
  parent: MarkerBase
  categories: [ ForkFiltered ]
  components:
    - type: Sprite
      layers:
      - state: red
      - sprite: Structures/Specific/Anomalies/shadow_anom.rsi
        state: anom
    - type: RandomSpawner
      offset: 0.05
      chance: 0.5
      prototypes:
        - CP14CrystalElementalDarknessSmall
        - CP14CrystalElementalDarknessSmall
        - CP14CrystalElementalDarknessSmall
        - CP14CrystalElementalDarknessMedium
        - CP14CrystalElementalDarknessMedium
        - CP14CrystalElementalDarknessBig
      rareChance: 0.05
      #rarePrototypes:
      #  - MobCatShadow
      #  - ArtifactFragment