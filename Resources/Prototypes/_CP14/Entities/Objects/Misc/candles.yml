- type: entity
  name: candle
  parent: BaseItem
  id: CP14Candle
  description: A thin wick threaded through fat.
  categories: [ ForkFiltered ]
  components:
  - type: Tag
    tags:
    - Candle
  - type: Sprite
    noRot: true
    sprite: _CP14/Objects/Misc/candles.rsi
    layers:
      - state: small1
        map: ["random"]
  - type: RandomSprite
    available:
    - random:
        small1: ""
        small2: ""
        small3: ""
  - type: Item
    size: Small
  - type: Appearance
  - type: Reactive
    groups:
      Flammable: [ Touch ]
      Extinguish: [ Touch ]
  - type: ExtinguishOnInteract
    extinguishAttemptSound:
      path: /Audio/Items/candle_blowing.ogg
      params:
        variation: 0.05
        volume: 10
  - type: UseDelay
  - type: CP14DelayedIgnitionSource
  - type: CP14IgnitionModifier
    ignitionTimeModifier: 0.5
    hideCaution: true
  - type: Flammable
    fireSpread: false
    canResistFire: false
    alwaysCombustible: true
    canExtinguish: true
    firestacksOnIgnite: 15.0
    firestackFade: -0
    damage:
      types:
        Heat: 0
  - type: FireVisuals
    sprite: _CP14/Objects/Misc/candles.rsi
    normalState: small_fire
  - type: ToggleableLightVisuals
    spriteLayer: null
    inhandVisuals:
      left:
      - state: inhand-left-flame
        shader: unshaded
      right:
      - state: inhand-right-flame
        shader: unshaded
  - type: Damageable
    damageModifierSet: Wood
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]

- type: entity
  parent: CP14Candle
  id: CP14CandleIgnited
  suffix: Ignited
  components:
  - type: CP14AutoIgnite
