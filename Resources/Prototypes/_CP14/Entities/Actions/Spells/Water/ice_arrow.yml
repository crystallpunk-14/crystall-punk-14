- type: entity
  id: CP14ActionSpellIceArrow
  parent: CP14ActionSpellBase
  name: Ice arrow
  description: You create a temporary sharp ice arrow that can be used as a disposable bow projectile.
  components:
  - type: CP14ActionManaCost
    manaCost: 7
  - type: CP14ActionSpeaking
    startSpeech: "Sagitta glaciei..."
    endSpeech: "in manu mea"
  - type: CP14ActionFreeHandsRequired
  - type: CP14ActionDoAfterVisuals
    proto: CP14RuneWaterCreation
  - type: DoAfterArgs
    delay: 0.5
  - type: Action
    useDelay: 5
    icon:
      sprite: _CP14/Actions/Spells/water.rsi
      state: ice_arrow
  - type: InstantAction
    event: !type:CP14InstantModularEffectEvent
      effects:
      - !type:CP14SpellSpawnEntityOnTarget
        spawns:
        - CP14ImpactEffectWaterCreation
      - !type:CP14SpellSpawnInHandEntity
        spawns:
        - CP14IceArrow

- type: entity
  parent: CP14BaseSpellScrollWater
  id: CP14SpellScrollIceArrow
  name: ice arrow spell scroll
  components:
  - type: CP14SpellStorage
    spells:
    - CP14ActionSpellIceArrow

- type: entity
  id: CP14IceArrow
  parent: CP14ArrowBase
  name: ice arrow
  description: A sharp ice arrow created with magic. It melts and will soon disappear, but you can shoot it once with your bow.
  components:
  - type: Sprite
    sprite: _CP14/Objects/Weapons/Ranged/Projectiles/ice_arrow.rsi
    layers: 
    - state: icon
    - state: solution1
      map: ["enum.SolutionContainerLayers.Fill"]
  - type: Projectile
    damage:
      types:
        Piercing: 15
        Cold: 5
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 10
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: TimedDespawn
    lifetime: 240