- type: entity
  id: CP14ActionSpellIceDagger
  parent: CP14ActionSpellBase
  name: Ice dagger
  description: You form an icy sharp dagger that will do for temporary use.
  components:
  - type: CP14ActionManaCost
    manaCost: 25
  - type: CP14ActionSpeaking
    startSpeech: "Un pittore sulla..."
    endSpeech: "soglia della mano"
  - type: CP14ActionFreeHandsRequired
  - type: CP14ActionDoAfterVisuals
    proto: CP14RuneWaterCreation
  - type: DoAfterArgs
    delay: 0.5
  - type: Action
    useDelay: 5
    icon:
      sprite: _CP14/Actions/Spells/water.rsi
      state: ice_dagger
  - type: InstantAction
    event: !type:CP14InstantModularEffectEvent
      effects:
      - !type:CP14SpellSpawnEntityOnTarget
        spawns:
        - CP14ImpactEffectWaterCreation
      - !type:CP14SpellSpawnInHandEntity
        spawns:
        - CP14WeaponDaggerIce

- type: entity
  name: ice dagger
  parent: CP14BaseWeaponDagger
  id: CP14WeaponDaggerIce
  description: A sharp ice dagger, not very durable but can temporarily replace real weapons.
  components:
  - type: Sprite
    sprite: _CP14/Objects/Weapons/Melee/Dagger/ice.rsi
    state: icon
  - type: MeleeWeapon
    damage:
      types:
        Slash: 3
        Piercing: 3
        Cold: 4
  - type: DamageOtherOnHit
    damage:
      types:
        Slash: 3
        Piercing: 3
        Cold: 4
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 20
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: TimedDespawn
    lifetime: 60

- type: entity
  parent: CP14BaseSpellScrollWater
  id: CP14SpellScrollIceDagger
  name: ice dagger spell scroll
  components:
  - type: CP14SpellStorage
    spells:
    - CP14ActionSpellIceDagger

