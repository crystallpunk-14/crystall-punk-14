- type: entity 
  id: CP14MobBurningSpirit
  parent: 
  - CP14SimpleMobNoLifeBase
  categories: [ ForkFiltered ]
  name: burning war spirit
  description: A burning creature hungry for battle. Will attack anyone nearby.
  components:
  - type: HTN
    rootTask:
      task: CP14MonsterCompound
    blackboard:
      NavSmash: !type:Bool
        true
      VisionRadius: !type:Single
        12
      AggroVisionRadius: !type:Single
        8
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.30
        density: 80
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: NpcFactionMember
    factions:
    - CP14HostileEveryone
  - type: CombatMode
  - type: MeleeWeapon
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Heat: 6
        Slach: 4
  - type: MovementIgnoreGravity
  - type: MovementSpeedModifier
    baseWalkSpeed: 3
    baseSprintSpeed: 5
    acceleration: 10.0
    friction: 0.5
  - type: Sprite
    sprite: _CP14/Mobs/Monster/burning_war_spirit.rsi
    layers:
    - state: base
      shader: unshaded
    drawdepth: Mobs
  - type: Damageable
    damageContainer: CP14Biological
    damageModifierSet: CP14BurningSpirit
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
      - !type:SpawnEntitiesBehavior
        spawn:
            CP14AreaEntityEffectFireRune:
              min: 1
              max: 1
            CP14EssenceFire:
              min: 5
              max: 10
            CP14FlameCreationArtificialFlame:
              min: 1
              max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: CP14MagicCasterSlowdown
  - type: CP14MagicEnergyContainer
    magicAlert: CP14MagicEnergy
    maxEnergy: 40
    energy: 40
    unsafeSupport: true
  - type: CP14MagicEnergyDraw
    energy: -1
    delay: 1
    safe: false
  - type: CP14MagicUnsafeDamage
  - type: AmbientSound
    volume: -1
    range: 12
    sound:
      path: /Audio/Effects/burning.ogg
  - type: PassiveDamage
    damageCap: 0
    allowedStates:
    - Alive
    - Critical
    damage:
      types:
        Heat: -100.0
  - type: CP14MagicEnergyFromDamage
    damage:
      Heat: 2 #Magic regen from fire
      Cold: -1
      Asphyxiation: -2
  - type: PointLight
    color: "#eea911"
  - type: CP14SpellEffectOnHit
    effects:
    - !type:CP14SpellApplyEntityEffect
      effects:
      - !type:FlammableReaction
        multiplier: 0.5
      - !type:AdjustTemperature
        amount: 6000
      - !type:Ignite
    - !type:CP14SpellSpawnEntityOnTarget
      spawns:
      - CP14ImpactEffectFlameCreation