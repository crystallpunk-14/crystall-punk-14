- type: entity
  abstract: true
  parent:
  - Clothing
  - ContentsExplosionResistanceBase
  id: CP14ClothingBackpackBase
  categories: [ ForkFiltered ]
  components:
  - type: Item
    size: Huge
  - type: Clothing
    equipDelay: 0.4
    unequipDelay: 0.2
    slots:
    - back
    quickEquip: false
    breakOnMove: false
  - type: Storage
    grid:
    - 0,0,6,3
    maxItemSize: Huge
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []
  - type: UseDelay
    delay: 0.5
  - type: ExplosionResistance
    damageCoefficient: 0.9
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface

- type: entity
  parent: CP14ClothingBackpackBase
  id: CP14ClothingBackpackLeather
  name: leather backpack
  description: You wear this on your back and put items into it.
  components:
  - type: Sprite
    sprite: _CP14/Clothing/Back/Backpacks/leather_backpack.rsi
    state: icon

- type: entity
  parent: CP14ClothingBackpackBase
  id: CP14ClothingBackpackForeman
  name: Construction Rucksack
  suffix: Orange, Empty
  description: You wear this on your back and put items into it. Comes with a handy light!
  components:
  - type: Sprite
    sprite: _CP14/Clothing/Back/Backpacks/foreman_backpack.rsi
    state: icon
  - type: Storage
    grid:
    - 0,0,7,4
  - type: Rotatable
  - type: PointLight
    enabled: false
    color: "#d68f4d"
    mask: /Textures/_CP14/Effects/LightMasks/crystal_cone.png
    autoRot: true
    energy: 3
    radius: 6
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.CP14MagicSlotVisuals.Inserted:
        crystal:
          True: { visible: true }
          False: { visible: false }
      enum.CP14MagicSlotVisuals.Powered:
        light:
          True: { visible: true }
          False: { visible: false }
  - type: CP14MagicLantern
  - type: CP14MagicEnergyDraw
    energy: -0.1
    delay: 3
  - type: ItemSlots
    slots:
      crystal_slot:
        insertSound:
          path: /Audio/_CP14/Items/crystal_insert.ogg
          params:
            variation: 0.05
        ejectSound:
          path: /Audio/_CP14/Items/crystal_eject.ogg
          params:
            variation: 0.05
        ejectOnInteract: false
        name: cp14-magic-energy-crystal-slot-name
        whitelist:
          components:
          - CP14MagicEnergyCrystal
  - type: CP14MagicEnergyCrystalSlot
    slotId: crystal_slot
