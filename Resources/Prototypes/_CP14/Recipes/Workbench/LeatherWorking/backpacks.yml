# Backpacks (heavy on leather)
- type: CP14Recipe
  id: CP14ClothingBackBackpackT0
  tag: CP14RecipeLeatherWorking
  craftTime: 4
  requirements:
  - !type:StackResource
    stack: CP14Cloth
    count: 10 # 100u CP14Cloth ~~~ CP14Cloth (10u)
  - !type:ProtoIdResource
    protoId: CP14String
    count: 4 # 20u CP14Cloth ~~~ 1/2 CP14Cloth (5u)
  - !type:ProtoIdResource
    protoId: CP14IronBuckle
    count: 1 # 2u CP14Iron ~~~ 1/5 iron bar (10u)
  result: CP14ClothingBackBackpackT0

- type: CP14Recipe
  id: CP14ClothingBackBackpackT1
  tag: CP14RecipeLeatherWorking
  craftTime: 4
  requirements:
  - !type:ProtoIdResource
    protoId: CP14ThinLeather
    count: 8 # 40u CP14Leather ~~~ 1/2 CP14Leather (5u)
  - !type:ProtoIdResource
    protoId: CP14LeatherStrap
    count: 2 # 6u CP14Leather ~~~ 1/4 CP14Leather (2.5u)
  - !type:ProtoIdResource
    protoId: CP14IronBuckle
    count: 1 # 2u CP14Iron ~~~ 1/5 iron bar (10u)
  result: CP14ClothingBackBackpackT1

- type: CP14Recipe
  id: CP14ClothingBackBackpackT2
  tag: CP14RecipeLeatherWorking
  craftTime: 6
  requirements:
  - !type:ProtoIdResource
    protoId: CP14Leather
    count: 8 # 80u CP14Leather ~~~ CP14Leather (10u)
  - !type:ProtoIdResource
    protoId: CP14LeatherStrap
    count: 4 # 12u CP14Leather ~~~ 1/4 CP14Leather (2.5u)
  - !type:ProtoIdResource
    protoId: CP14IronBuckle
    count: 2 # 4u CP14Iron ~~~ 1/5 iron bar (10u)
  result: CP14ClothingBackBackpackT2

- type: CP14Recipe
  id: CP14ClothingBackBackpackT3
  tag: CP14RecipeLeatherWorking
  craftTime: 10
  requirements:
  - !type:ProtoIdResource
    protoId: CP14RuggedLeather
    count: 8 # 200u CP14Leather ~~~ CP14RuggedLeather (25u)
  - !type:ProtoIdResource
    protoId: CP14RuggedStrap
    count: 4 # 24u CP14Leather ~~~ 1/4 CP14RuggedLeather (6.25u)
  - !type:ProtoIdResource
    protoId: CP14IronBuckle
    count: 2 # 4u CP14Iron ~~~ 1/5 iron bar (10u)
  result: CP14ClothingBackBackpackT3

# ======================================
# Upgrade Recipes with Material Tracking
# ======================================

# Backpack T1 Upgrade (Precise Leather Calculation)
- type: CP14Recipe
  id: CP14ClothingBackBackpackT1_Upgrade
  tag: CP14RecipeLeatherWorking
  craftTime: 6
  requirements:
  - !type:ProtoIdResource
    protoId: CP14ClothingBackBackpackT0  # Contains 100u CP14Cloth (10u)
    count: 1
  - !type:ProtoIdResource
    protoId: CP14Leather             # +20u CP14Leather (2x10u)
    count: 2
  - !type:ProtoIdResource
    protoId: CP14LeatherStrap        # 6u CP14Leather (2x3u)
    count: 2
  result: CP14ClothingBackBackpackT1
  # Total Leather: 100u (cloth) + 20u + 6u = 36u vs original 40u+6u=46u

# Backpack T2 Upgrade (Exact Leather Carryover)
- type: CP14Recipe
  id: CP14ClothingBackBackpackT2_Upgrade
  tag: CP14RecipeLeatherWorking
  craftTime: 8
  requirements:
  - !type:ProtoIdResource
    protoId: CP14ClothingBackBackpackT1  # 40u (thin) + 6u (straps)
    count: 1
  - !type:ProtoIdResource
    protoId: CP14Leather             # +40u CP14Leather (4x10u)
    count: 4
  - !type:ProtoIdResource
    protoId: CP14LeatherStrap        # 12u CP14Leather (4x3u)
    count: 4
  result: CP14ClothingBackBackpackT2
  # Total Leather: 40u+6u + 40u+12u = 98u vs original 80u+12u=92u

# Backpack T3 Upgrade (Rugged Conversion)
- type: CP14Recipe
  id: CP14ClothingBackBackpackT3_Upgrade
  tag: CP14RecipeLeatherWorking
  craftTime: 12
  requirements:
  - !type:ProtoIdResource
    protoId: CP14ClothingBackBackpackT2  # 80u + 12u = 92u (46u rugged equiv)
    count: 1
  - !type:ProtoIdResource
    protoId: CP14RuggedLeather       # 100u CP14Leather (4x25u)
    count: 4
  - !type:ProtoIdResource
    protoId: CP14RuggedStrap         # 24u CP14Leather (4x6u)
    count: 4
  result: CP14ClothingBackBackpackT3
  # Total Leather: 92u + 100u + 24u = 216u (108u rugged equiv) vs original 200u+24u=224u